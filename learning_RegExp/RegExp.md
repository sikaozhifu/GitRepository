### 正则表达式

正则表达式（Regular Expression，在代码中常简写为regex、regexp或RE）

使用单个字符来描述、匹配一系列符合某个句法规则的字符串。用常用来检索、替换哪些符合某个模式的文本。

##### 元字符

* \b

  代表单词的开头或者结尾，也就是单词的分界处。匹配一个位置。

* .

  匹配除了换行符以外的任意字符。

* *

  代表数量，它指定*前面的内容可以连续重复使用任意次以使整个表达式得以匹配。

* \d

  表示匹配一位数字（0，或者1，或者2······）

  例如匹配中国的电话号码，且区号为三位数的。

  0\d\d-\d\d\d\d\d\d\d\d	也可以这样写0\d{2}-\d{8}

* \s

  表示匹配任意空白符，包括空格，制表符（Tab），换行符，中文全角空格等。

* \w

  表示匹配字母或者数字或者下划线或汉字等。

  例如匹配以字母a开头的单词

  \ba\w*\b

* +

  匹配重复1次或者多次

  例如匹配一个或者更多连续的数字

  \d+

* ^和$

  都表示匹配一个位置，^匹配查找字符串的开头，$匹配查找字符串的结尾。在验证输入内容的时候非常有用

  例如要求填写的数字为5到12位

  ^\d{5,12}$

  {5,12}表示重复的次数不能少于5次，不能多余12次。

  | 字符 | 说明                         |
  | :--: | :--------------------------- |
  |  .   | 匹配除换行符以外的任意字符   |
  |  \w  | 匹配字母或数字或下划线或汉字 |
  |  \s  | 匹配任意的空白符             |
  |  \d  | 匹配数字                     |
  |  \b  | 匹配单词的开始或结束         |
  |  ^   | 匹配字符串的开始             |
  |  $   | 匹配字符串的结束             |

##### 字符转义

如果需要查找元素本身，比如查找.或者^等等，可以使用\来转义，即\.和\^。如果查找\本身，则也使用\\。

##### 重复次数

* ?

  表示重复一次或者多次

  | 字符  | 说明             |
  | :---: | ---------------- |
  |   *   | 重复零次或更多次 |
  |   +   | 重复一次或更多次 |
  |   ?   | 重复零次或一次   |
  |  {n}  | 重复n次          |
  | {n,}  | 重复n次或更多次  |
  | {n,m} | 重复n到m次       |

##### 字符类

如果想匹配没有预定义元字符的字符集，例如匹配元音字母a，e，i，o，u，则只需要在方括号里面列出来即可[aeiou]，[?.!]匹配标点符号（.或?或!）

[0-9]表示的含义与\d完全一致，即匹配一位数字。

##### 分支条件

表示的是有几种规则，如果满足其中任意一种规则都应当匹配成。即用|把不同的规则分隔开。

\\(?0\d{2}\\)?[- ]?\d{8}|0\d{2}[- ]?\d{8}表示匹配3位区号的电话号码，其中区号可以用小括号括起来，也可以不用，区号与本地号间可以用连字号或空格间隔，也可以没有间隔。

\\(?0\d{3}\\)?[- ]?\d{7}|0\d{3}[- ]?\d{7}表示支持4位区号。

**但是在使用分枝条件的时候，要注意各个条件的顺序。因为将会从左到右地测试每个条件，如果满足了某个分枝，就不在管其他分枝了。**

##### 分组

表示的是可以重复多个字符，使用小括号来指定子表达式（也叫做分组）

例如匹配IP地址。

(?=(\b|\D))((2[0-4]\d|25[0-5]|[01]?\d\d?)\\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)(?=(\b|\D))

##### 反义

表示查找不属于某个能简单定义的字符类的字符，比如查找除了数字以外的任意字符。

|  字符   | 说明                                       |
| :-----: | ------------------------------------------ |
|   \W    | 匹配任意不是字母，数字，下划线，汉字的字符 |
|   \S    | 匹配任意不是空白符的字符                   |
|   \D    | 匹配任意非数字的字符                       |
|   \B    | 匹配不是单词开头或结束的位置               |
|  [^x]   | 匹配除了x以外的任意字符                    |
| [^abcd] | 匹配除了abcd这几个字母以外的任意字符       |

例子：

\S+匹配不包含空白符的字符串

<a\[^>]+>匹配用尖括号括起来的以a开头的字符串

##### 后向引用

